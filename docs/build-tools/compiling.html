<!-- ****************************************
     |docname| - main template for this theme
     **************************************** -->
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>1.3. Building software &#8212; CISC 187 Course Reader Overview</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=58BC228F" />
    <link rel="stylesheet" type="text/css" href="../_static/CodeChat.css" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css?v=910DF1E1" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=50109A2C" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/637.0fa6cababf056764.css?v=F9484CEF" />
    <link rel="stylesheet" type="text/css" href="../_static/runestone.3eb60bc006ae9a54.css?v=3A5A250C" />



    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script src="../_static/animationbase.js?v=A043C3A7"></script>
    <script src="../_static/html4css1.css?v=4533ACD3"></script>
    <script src="../_static/webglinteractive.js?v=2B768384"></script>
    <script src="../_static/FileSaver.min.js?v=8408C997"></script>
    <script src="../_static/runtime.66b619f51b746382.bundle.js?v=C3F69EE5"></script>
    <script src="../_static/637.d54be67956c5c660.bundle.js?v=915B1670"></script>
    <script src="../_static/runestone.ecc6dff5cad8b815.bundle.js?v=AE959292"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1.5. Introducing Gnu/Linux" href="linux.html" />
    <link rel="prev" title="1.2. Using Git" href="git-using.html" />


<link rel="shortcut icon" href="/cisc187-reader/static/favicon.ico" type="image/ico" />



<link rel="canonical" href="https://{{canonical_host}}{{new_server_prefix}}/books/published/{{base_course}}/{{pagepath}}" />


<script>
  eBookConfig = {};
  
    eBookConfig.useRunestoneServices = false;
    eBookConfig.host = 'https://daveparillo.github.io/cisc187-reader/' || 'http://127.0.0.1:8000';
    eBookConfig.app = eBookConfig.host+'/cisc187-reader';
    eBookConfig.course = 'cisc187-reader';
    eBookConfig.basecourse = 'cisc187-reader';
    eBookConfig.isLoggedIn = false;
    eBookConfig.enableCompareMe = eBookConfig.useRunestoneServices;
    eBookConfig.new_server_prefix = '';
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.python3 = true;
  eBookConfig.acDefaultLanguage = 'cpp' ? 'cpp' : 'python'
  eBookConfig.runestone_version = '6.6.2';
  eBookConfig.jobehost = 'https://delicate-frost-8843.fly.dev';
  eBookConfig.proxyuri_runs = '/jobe/index.php/restapi/runs/';
  eBookConfig.proxyuri_files = '/jobe/index.php/restapi/files/';
  eBookConfig.enable_chatcodes = false ? false : false;
  eBookConfig.enableScratchAC = true;

</script>

<!-- Ad Serving Headers Only serve ads to Anonymous Users -->



  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse" aria-label="navbar toggle">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
        
          <div class="brand-logo"><img src="../_static/img/RAIcon.png" alt=""></div>
        
        <a class="navbar-brand" href="../index.html" aria-label="index-page">
          
          cisc187-reader
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>

        <!-- social media dropdown -->
        <!-- end social media dropdown -->

        <li class="divider-vertical"></li>
        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span class="visuallyhidden" aria-label="Search">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:runestoneComponents.popupScratchAC()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span class="visuallyhidden" aria-label="Scratch Activecode" >Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
          <li class="divider-vertical"></li>
        
        <!-- 
          
  <li id="relations-prev" title="Previous Chapter - <span class="section-number">1.2. </span>Using Git" data-toggle="tooltip">
    <a href="git-using.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - <span class="section-number">1.5. </span>Introducing Gnu/Linux' data-toggle="tooltip" >              
    <a href="linux.html" >
        <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script>
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  window.addEventListener('load', (event) => {
    $('#relations-prev').tooltip(opts);
    $('#relations-next').tooltip(opts);
  });
</script>
        -->
        
          <li></li>
        
      </ul>
      </div> <!-- navbar-collapse -->
    </div> <!-- navbar -->
  </div> <!-- container -->


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">

<!-- Ad Serving for Runestone Campaign -->


  
  <section id="building-software">
<span id="index-0"></span><h1><span class="section-number">1.3. </span>Building software<a class="headerlink" href="#building-software" title="Permalink to this heading">¶</a></h1>
<p>In this section we will learn one way to compile and run programs.
If you plan to use the Mesa Linux server,
then this section describes what you need to know.
If you plan to use other programs to compile and run your programs
you <strong>still</strong> need to review at least the section describing
<a class="reference external" href="https://cmake.org">CMake</a>.
All of the labs and projects use the <em>CMake</em> build system.</p>
<p>What do we really mean when we say “build software”?
A <strong>software build</strong> (when used as a verb)
is the process of converting a set of <strong>text</strong> and
related <strong>build files</strong> into machine-readable format.
Our job as programmers almost always boils down to converting
plain text files into something else.
A <em>build</em> often creates an executable file or a library that
can be included as part of a larger executable.
But just as often programmers convert text into some other
form of text:</p>
<ul class="simple">
<li><p>Convert XML to HTML, for example with <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/XSLT">XSLT</a></p></li>
<li><p>Convert JSON to XML</p></li>
<li><p>Convert a
<a class="reference external" href="https://developers.google.com/protocol-buffers/docs/cpptutorial">language independent interface definition</a>
into a language specific one</p></li>
<li><p>Transpile <a class="reference external" href="https://stackoverflow.com/a/51349655">Java code into JavaScript</a></p></li>
</ul>
<p>We could list more, but you get the point.
We generally do not perform these conversions manually, we use tools.</p>
<p>In this class we will be using a core set of tools to build and test programs:</p>
<dl>
<dt>CMake</dt><dd><p>An open-source, cross-platform family of tools designed to build,
test and package software.
CMake is used to control the software compilation process using simple platform
and compiler independent configuration files.
It generates native makefiles, projects, and workspaces
that can be used in the compiler environment of your choice.</p>
</dd>
<dt>Clang</dt><dd><p>The Clang project provides a language front-end and tooling infrastructure for
languages in the C language family.
For our purposes the Clang project provides:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">clang</span></code>: a C compiler</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clang++</span></code>: a C++ compiler</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clang-tidy</span></code>: a C++ “linter”</p>
<p>A linting tools is a program that analyzes your source code statically
(without running it) to check for possible issues or bugs.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">clang-format</span></code>: a source code (re) formatter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lldb</span></code>: a debugger.</p>
<p>A debugger is a program that allows you to control and view internal
details of your program.
You can pause execution, view or change variables, and see source code.
As the name implies, the tool is usually used to help find and fix bugs.</p>
</li>
</ul>
<p>There are many other tools in the Clang suite, but these are the ones
you’ll interact with most often.</p>
<p>Clang is the default compiler on MacOS and is an option
on most Linux based systems.</p>
</dd>
<dt>Doctest</dt><dd><p><a class="reference external" href="https://github.com/onqtam/doctest/blob/master/doc/markdown/tutorial.md">doctest</a>
is a fast C++ testing framework based on the popular
<a class="reference external" href="https://github.com/catchorg/Catch2">Catch Unit Test</a> framework.
Most labs use doctest to assess your work as you progress through the lab.</p>
</dd>
<dt>GCC</dt><dd><p>The GNU Compiler Collection (GCC) provides a tooling infrastructure for
C, C++, FORTRAN, and a few other languages.
For our purposes GCC provides:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">gcc</span></code>: a C compiler</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g++</span></code>: a C++ compiler</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gdb</span></code>: a debugger.</p></li>
</ul>
<p>GCC is the default compiler for most Unix and Linux based systems.</p>
</dd>
<dt>Git</dt><dd><p><a class="reference external" href="https://git-scm.com">Git</a> is a distributed version-control system
for tracking changes in source code during software development.
It is designed for coordinating work among programmers,
but it can be used to track changes in any set of files.</p>
</dd>
<dt>Make</dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">make</span></code> program is a tool used to help make things.
Using <em>make</em> we define <em>targets</em> in a text file and each <em>target</em>
runs a <em>recipe</em>.
Using targets and recipes in combination allows make to perform many
complex tasks automatically.</p>
</dd>
</dl>
<p>On Linux based systems these tools work together like this:</p>
<ul>
<li><p>We use <code class="docutils literal notranslate"><span class="pre">git</span></code> to download the latest copy of our code.</p></li>
<li><p>We use <code class="docutils literal notranslate"><span class="pre">CMake</span></code> to create our build files, which are generally Makefiles.</p></li>
<li><p>Once the Makefile has been created, we use <code class="docutils literal notranslate"><span class="pre">make</span></code> to perform tasks.
The simplest command <code class="docutils literal notranslate"><span class="pre">make</span></code> will try to build all the software in the
current directory.</p>
<p>Make will use either <code class="docutils literal notranslate"><span class="pre">gcc</span></code> or <code class="docutils literal notranslate"><span class="pre">clang</span></code> to actually compile code.</p>
</li>
<li><p>Test cases are written using the <code class="docutils literal notranslate"><span class="pre">doctest</span></code> library and build using <code class="docutils literal notranslate"><span class="pre">make</span></code>.</p></li>
</ul>
<section id="how-to-access-the-mesa-server">
<span id="index-1"></span><h2><span class="section-number">1.3.1. </span>How to access the Mesa Server<a class="headerlink" href="#how-to-access-the-mesa-server" title="Permalink to this heading">¶</a></h2>
<p>All projects and some of the lab assignments are required to be handed in on the
San Diego Mesa College server <strong>buffy</strong>.
Access is only available using a <em>secure shell</em> client program (ssh).
There are a few ways to access the server using <code class="docutils literal notranslate"><span class="pre">ssh</span></code>.
If you have a MacOS or Linux computer available already, then you already have ssh installed.
If you have a Windows computer,
then <a class="reference external" href="https://git-scm.com">git</a> is recommended.
Technically, <code class="docutils literal notranslate"><span class="pre">git</span></code> is a source code revision control program,
but it also provides a minimal GNU/Linux environment.
Not too surprising, since the creator, Linus Torvalds,
is also the creator of Linux).</p>
<p>Another good choice for an SSH
client if you run Microsoft Windows is PuTTY:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>http://www.chiark.greenend.org.uk/~sgtatham/putty/
</pre></div>
</div>
<p>In <code class="docutils literal notranslate"><span class="pre">git</span></code> you would type the following in the <em>GIT Bash</em>
to connect to the server:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ssh fireNN@209.129.16.61
</pre></div>
</div>
<p>where <em>fireNN*</em> is the user name assigned to you by the instructor.</p>
</section>
<section id="for-the-impatient-a-quick-summary">
<span id="index-2"></span><h2><span class="section-number">1.3.2. </span>For the impatient: A quick summary<a class="headerlink" href="#for-the-impatient-a-quick-summary" title="Permalink to this heading">¶</a></h2>
<p>Lab build files are generated using
<a class="reference external" href="https://cmake.org">CMake</a>.
Once you have a build file generated for your particular environment,
then you may compile the software and run tests.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All of these steps are demonstrated on a <cite>*nix</cite> style operating system:
GNU/Linux, Unix, MacOS, or Cygwin on Windows.</p>
</div>
<ol class="arabic">
<li><p>First, open a terminal since all of the command that follow are typed
on the command line.</p></li>
<li><p>Login to the Mesa server using <code class="docutils literal notranslate"><span class="pre">ssh</span></code>.</p></li>
<li><p>Once logged in, change directory to the folder containing a lab</p>
<p>For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd cisc187-sp23-fire40/lab01-hello
</pre></div>
</div>
<p>If you do not have a directory starting with <code class="docutils literal notranslate"><span class="pre">cisc187-</span></code>
in your home directory then clone your repository.</p>
</li>
<li><p>Create a new directory to hold the build files and
have <code class="docutils literal notranslate"><span class="pre">cmake</span></code> generate the makefiles:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># make a directory to store build output and configure
mkdir build
cd build
cmake ..
</pre></div>
</div>
<p>You only need to do this step once when you make the build
directory initially.</p>
</li>
<li><p>Now you can build the project:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make
</pre></div>
</div>
<p>and run the tests</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make test
</pre></div>
</div>
</li>
</ol>
<p>That it!</p>
<p>There are many ways to run cmake and steps 4 and 5 above are what you commonly
see on the internet. One alternative is:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span># make a directory to store build output and configure
cmake -S /path/to/lab01-hello -B build


# build the project
cmake --build build


# run the tests
cmake --build build --target test
</pre></div>
</div>
</div></blockquote>
<p>This video demonstrates these steps and shows what normal results should look like.</p>

    <div class="runestone " style="margin-left: auto; margin-right:auto">
        <div id="nQ31ApyU7_o" data-component="youtube" class="align-center youtube-video"
            data-video-height="281" data-question_label="1.3.2.1"
            data-video-width="500" data-video-videoid="nQ31ApyU7_o"
            data-video-divid="nQ31ApyU7_o" data-video-start="0"
            data-video-end="-1" ></div>
    </div>
    <p>Most of the time you’ll just be compiling code and running lab tests:</p>
<ul class="simple">
<li><p><cite>cd build</cite></p></li>
<li><p><cite>make</cite></p></li>
<li><p><cite>make test</cite></p></li>
</ul>
<p>The make target <code class="docutils literal notranslate"><span class="pre">test</span></code> runs <strong>all</strong> the tests.
Usually when working on a lab, you just want to compile and test that step.
All labs are ‘chunked’ into steps with a separate test program to test it.</p>
<p>You can compile a single test step by referring to the numbered lab step,
for example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make step1
</pre></div>
</div>
<p>You can run a single test using either the <code class="docutils literal notranslate"><span class="pre">make</span></code> target provided
or by running the test using the <code class="docutils literal notranslate"><span class="pre">ctest</span></code> program provided by <code class="docutils literal notranslate"><span class="pre">CMake</span></code>.
for example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>test/step1
ctest -R step1
</pre></div>
</div>
<p>Both of these commands return the exact same output.</p>
</section>
</section>
<section id="compiling-code-on-your-local-computer">
<span id="local-compile-label"></span><span id="index-3"></span><h1><span class="section-number">1.4. </span>Compiling code on your local computer<a class="headerlink" href="#compiling-code-on-your-local-computer" title="Permalink to this heading">¶</a></h1>
<p>The following sections describe briefly how to get started with
a local development environment, if you wish.
One of the primary motivations for building locally is to avoid
a persistent internet connection running your SSH session.</p>
<p>If you have bad or intermittent internet connectivity,
then this section is for you.</p>
<p>If you plan to use the Mesa server,
then you can ignore the rest of this section.</p>
<p>As with all things C++, you have choices.
The options described here do not represent all of the many ways
one might build C++ programs locally, but are common choices
on Windows and MacOS machines.</p>
<p>In most cases, you still need to install
<a class="reference external" href="https://git-scm.com">git</a> and
<a class="reference external" href="https://cmake.org">CMake</a>.</p>
<p>This book does <strong>not</strong> explain how to install these <a class="reference internal" href="../glossary.html#term-IDE"><span class="xref std std-term">IDE’s</span></a>.
Use the documentation provided with your IDE for that.</p>
<section id="compiling-using-the-cisc187-docker-image">
<span id="index-4"></span><h2><span class="section-number">1.4.1. </span>Compiling using the CISC187 Docker image<a class="headerlink" href="#compiling-using-the-cisc187-docker-image" title="Permalink to this heading">¶</a></h2>
<p>Use git to clone your assignments repository to your computer.</p>
<p>The CISC187 Docker image provides an environment much like the
development environment on the Mesa server, but locally.
The main difference between the docker image and the Mesa server
is that the compilers on the docker image are much newer and include
support for up to some C++20 features.</p>
<p>Currently, two compilers are installed on the image:</p>
<ul class="simple">
<li><p>GCC 10</p></li>
<li><p>Clang 11</p></li>
</ul>
<p>along with support tools, debuggers, vim plugins, and checking scripts
that are installed on the Mesa server.</p>
<div id='tab_docker' data-component="tabbedStuff"  class='alert alert-warning '><div data-component="tab" data-tabname="Install" >
<p>In order to use the docker image, you first need to
<a class="reference external" href="https://docs.docker.com/get-docker/">install docker</a>
for your operating system.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Windows operating system requirements</p>
<p>Windows 10 Professional or Enterprise is required for Docker on Windows
using Hyper-V.</p>
<p>Docker uses a hypervisor with a VM, and the host server (your computer)
must support virtualization.
Since older Windows versions and Windows 10 Home edition do not support
Hyper-V.</p>
<p>For Windows Home or Education builds running under WSL2 is an option.
See the install documentation for details.</p>
<p>In any Windows build at least 4GB available RAM is recommended.</p>
</div>
<p>Once docker is installed, open a Terminal window,
or on Windows, a Powershell terminal and type:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>docker pull dparillo/cisc187
</pre></div>
</div>
<p>This command will download the CISC187 docker image
and make it available to run.</p>
</div><div data-component="tab" data-tabname="Run" >
<p>To run the docker image on windows type:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>docker run --rm -it -v C:\Path\To\Source\Directory:/mnt/cisc187 dparillo/cisc187
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>An important thing to notice is when mounting a volume with <code class="docutils literal notranslate"><span class="pre">-v</span></code>
on Windows, the Windows part, left of the <code class="docutils literal notranslate"><span class="pre">:</span></code> uses Windows
Path separator characters (<code class="docutils literal notranslate"><span class="pre">\</span></code>), and on the Linux side, Linux
Path separator characters are used (<code class="docutils literal notranslate"><span class="pre">/</span></code>).
The Windows file path must include the drive letter.</p>
</div>
<p>The same command on Mac or Linux:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>docker run --rm -it -v /path/to/source:/mnt/cisc187 dparillo/cisc187
</pre></div>
</div>
<p>Meaning of these options:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">--rm</span></code>:</dt><dd><p>Automatically remove the container when it exits.
There is no need to save it.
It is useful to think of docker containers as applications that
perform some task and clean up when finished.</p>
<p>One of the powerful things about this is that it is impossible
to damage or corrupt your development environment.
If you think you did something bad, exit the container and restart.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">-i</span></code>:</dt><dd><p>Keep STDIN open even if not attached.
Instead of the short <code class="docutils literal notranslate"><span class="pre">-i</span></code>, you can use <code class="docutils literal notranslate"><span class="pre">--interactive</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">-t</span></code>:</dt><dd><p>Allocate a pseudo TTY. This allows you to communicate with your docker
container in the window where you started it.
Instead of the short <code class="docutils literal notranslate"><span class="pre">-t</span></code>, you can use <code class="docutils literal notranslate"><span class="pre">--tty</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">-v</span></code>:</dt><dd><p>Bind mount a volume from the local computer onto the host.
The general syntax is <code class="docutils literal notranslate"><span class="pre">-v</span> <span class="pre">/absolute/local/path:/absolute/container/path</span></code>
Instead of the short <code class="docutils literal notranslate"><span class="pre">-v</span></code>, you can use <code class="docutils literal notranslate"><span class="pre">--volume</span></code>.</p>
<p>The idea here is that your source code is never really inside the docker container.
Your source code is separate, but visible to the running container.</p>
</dd>
</dl>
<p>The container mount point was not chosen at random.
The container is set up with <code class="docutils literal notranslate"><span class="pre">/mnt/cisc187</span></code> as the <em>WORKDIR</em>.
When the container starts, you start in this directory.</p>
<p>The run command has <a class="reference external" href="https://docs.docker.com/engine/reference/commandline/run/">many more options available</a>
and docker has many more commands other than the run command,
but this is all you need to know to compile assignments.</p>
</div>
    </div>

<p>Once the CISC187 docker container is running
you are ready to compile an assignment.
Builds are exactly the same as on the Mesa server:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mkdir build
cd build
cmake ..
make
make test
</pre></div>
</div>
</section>
<section id="compiling-with-visual-studio">
<span id="index-5"></span><h2><span class="section-number">1.4.2. </span>Compiling with Visual Studio<a class="headerlink" href="#compiling-with-visual-studio" title="Permalink to this heading">¶</a></h2>
<p>In this course you need to be using Visual Studio 2019
at a minimum to complete all the assignments.</p>
<p>In order to enable CMake integration with Visual Studio
ensure you have the additional software for Linux C++ development.</p>
<p>Use git to clone your assignments repository to your computer.
Now you are ready to compile an assignment.</p>
<div id='tab_msvc' data-component="tabbedStuff"  class='alert alert-warning '><div data-component="tab" data-tabname="GUI" >
<p>These instructions describe how to build software using the
Visual Studio Graphical User Interface (GUI).</p>
<ol class="arabic">
<li><p>Create a directory named build and open CMake GUI.</p></li>
<li><p>Select ‘Browse Source’ and select the folder containing
the lab you want to build.</p></li>
<li><p>Select ‘Browse Build’ and select the <cite>build</cite> folder you created.</p></li>
<li><p>In the lower left corner, select ‘Configure’ and
select ‘Visual Studio 16 2019 Win64’ from the list of
available generators.</p>
<p>Leave the remaining selections alone and
press ‘Finish` when done.</p>
<p>Don’t worry (yet) if you see any warnings or errors.</p>
</li>
<li><p>Press ‘Generate’. When finished (“Generating done”)
close CMake GUI.</p></li>
<li><p>Open the generated solution (.sln) file in Visual Studio.</p></li>
</ol>
<p>Build the solution then open
Test –&gt; Windows –&gt; Test Explorer to view test results or rerun tests.</p>
<p>If this doesn’t work, try
the instructions on the
<a class="reference external" href="https://docs.microsoft.com/en-us/cpp/build/cmake-projects-in-visual-studio?view=vs-2017">Microsoft site</a>.</p>
<p>Select the documentation for your version of Visual Studio.</p>
</div><div data-component="tab" data-tabname="Terminal" >
<p>These instructions describe how to build software using the
Using the Visual Studio command line</p>
<ol class="arabic">
<li><p>Create a directory named build adjacent, but <strong>not in</strong> your source directory.</p></li>
<li><p>Open the Visual Studio Developer prompt.
<cite>cd</cite> into the build directory created in the previous step.</p></li>
<li><p>Type <cite>cmake ..</cite></p>
<p>This should create a standard Visual Studio solution that
you can run from the command line or the IDE.</p>
</li>
<li><p>Type <cite>MSBuild lab1.sln</cite> to build all projects in the <strong>Debug</strong> configuation</p></li>
<li><p>Type <cite>ctest -C Debug</cite> to run all tests</p></li>
</ol>
<p>To remove all executable files:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>MSBuild lab1.sln -target:Clean
MSBuild lab1.sln -t:Clean
</pre></div>
</div>
<p>To build a single test:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>MSBuild lab1.sln -t:step1
</pre></div>
</div>
<p>To build all files in <strong>Release</strong> configuration,
without any Debug symbols:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>MSBuild lab1.sln -p:Configuration=Release
# run tests
ctest -C Release
</pre></div>
</div>
<p>If this doesn’t work, try
<a class="reference external" href="https://docs.microsoft.com/en-us/cpp/build/walkthrough-compiling-a-native-cpp-program-on-the-command-line?view=vs-2019">the instructions on the Microsoft site</a></p>
</div>
    </div>

</section>
<section id="compiling-with-code-blocks">
<span id="index-6"></span><h2><span class="section-number">1.4.3. </span>Compiling with Code Blocks<a class="headerlink" href="#compiling-with-code-blocks" title="Permalink to this heading">¶</a></h2>
<p>Use git to clone your assignments repository to your computer.
Now you are ready to compile an assignment.</p>
<ol class="arabic">
<li><p>Create a directory named build and open CMake GUI.</p></li>
<li><p>Select ‘Browse Source’ and select the folder containing
the lab you want to build.</p></li>
<li><p>Select ‘Browse Build’ and select the <cite>build</cite> folder.</p></li>
<li><p>In the lower left corner, select ‘Configure’ and
select ‘CodeBlocks - MinGW Makefiles’ from the list of
available generators.</p>
<p>Leave the radio selections alone and
press ‘Finish` when done.</p>
<p>Campus windows computers may complain about a <cite>sh.exe</cite> program in your path
outside of CodeBlocks.
To fix this error:</p>
<ul class="simple">
<li><p>Delete the CMake variable <cite>CMAKE_SH</cite> in the variables list.</p></li>
<li><p>Press ‘Configure’ a second time.</p></li>
</ul>
</li>
<li><p>Press ‘Generate’. When finished (“Generating done”)
close CMake GUI.</p></li>
<li><p>Open the generated “CBP” file in CodeBlocks.
It should be in the build folder you pointed at in step 3.</p></li>
</ol>
<p>Build the ‘all’ target to compile and link programs and tests.
Test cases must be run individually -
there is no target to run all the tests.</p>
</section>
<section id="compiling-with-xcode">
<span id="index-7"></span><h2><span class="section-number">1.4.4. </span>Compiling with Xcode<a class="headerlink" href="#compiling-with-xcode" title="Permalink to this heading">¶</a></h2>
<p>Use git to clone your assignments repository to your computer.
Now you are ready to compile an assignment.</p>
<p>Open a terminal in the directory containing your lab, then:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mkdir build
cd build
cmake -G Xcode ..
</pre></div>
</div>
<p>Open the Xcode project and build as usual.</p>
</section>
<section id="compiling-on-linux">
<span id="index-8"></span><h2><span class="section-number">1.4.5. </span>Compiling on Linux<a class="headerlink" href="#compiling-on-linux" title="Permalink to this heading">¶</a></h2>
<p>Use git to clone your assignments repository to your computer.</p>
<p>You’ll need to install a C++ tool chain,
the details tend to vary by distribution, however,
most Linux distributions have good documentation for installing C++ tools.
The only thing you should verify is that your distro has a modern version
of a C++ compiler (C++14 at a minimum) available.
The GNU Compiler Collection (GCC) or Clang are preferred.</p>
<p>Once you have a tool chain installed,
use git to clone your assignments repository to your computer.
Now you are ready to compile an assignment.</p>
<p>The process is exactly the same as on the Mesa server.
Open a terminal in the directory containing your lab, then:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mkdir build
cd build
cmake ..
make
make test
</pre></div>
</div>
</section>
<section id="which-option-should-i-choose">
<h2><span class="section-number">1.4.6. </span>Which option should I choose?<a class="headerlink" href="#which-option-should-i-choose" title="Permalink to this heading">¶</a></h2>
<p>There are a lot of options and the choices can be confusing.
The short answer is that there is no wrong choice.
Also, you can change you mind at any time and even
shift from one compile option to another as you prefer.</p>
<p>So how are these options really different from each other?</p>
<ol class="arabic">
<li><p>The <strong>I</strong> in IDE stands for <em>integrated</em>
They frequently include a large collection of tools to help
with many tasks professional programmers encounter often.</p>
<p>For this reason they tend to be large and use
a fair amount of CPU and memory.</p>
</li>
<li><p>Accessing a remote server like buffy requires minimal
CPU and memory locally.
Most of the resources you are using are on the remote server.
It is also the easiest to access.
All the software you need is already installed on the server.
You only need a ssh client.</p>
<p>The main drawbacks are:</p>
<ul class="simple">
<li><p>You have no control over the environment - you don’t own the server.</p></li>
<li><p>Using the remote server requires good internet.
If you lose your internet for any reason,
then you will lose your connection.</p></li>
</ul>
</li>
<li><p>Docker blends the two previous choices.
You get a local server separate from your computer that has
everything you need installed.
It uses less resources than a typical IDE and if needed
you can limit the resources it uses and like a local IDE,
does not require persistent internet to work.
Also, if you want you can modify the docker image
and make your own custom version.</p>
<p>The main drawbacks are:</p>
<ul class="simple">
<li><p>After installing Docker there is anew persistent service
running on your computer.</p></li>
<li><p>It is still not a real replacement for an IDE.</p></li>
</ul>
</li>
</ol>
<p>This decision chart may help.</p>
<div align="center" class="align-center"><div class="graphviz"><img src="../_images/graphviz-313cf0ef6b6f0e8a6a4091c855fc784eff4eaca4.png" alt="Choosing a build system" class="graphviz" /></div>
</div>
<hr class="docutils" />
<div class="admonition-more-to-explore admonition">
<p class="admonition-title">More to Explore</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Software_build">Sofware build</a></p></li>
<li><p><a class="reference external" href="https://git-scm.com/doc">Git Documentation</a></p></li>
<li><p>Clang docs</p>
<ul>
<li><p><a class="reference external" href="https://clang.llvm.org/extra/clang-tidy/">clang-tidy</a></p></li>
<li><p><a class="reference external" href="https://clang.llvm.org/docs/ClangFormat.html">clang format</a></p></li>
<li><p><a class="reference external" href="https://clang.llvm.org/cxx_status.html">Clang C++ status</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="make.html"><span class="doc">Command-line compiling</span></a></p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Grok">Grok definition</a></p></li>
</ul>
</div>
</section>
</section>


  

  <div id="scprogresscontainer">
    You have attempted <span id="scprogresstotal"></span> of <span id="scprogressposs"></span> activities on this page <div id="subchapterprogress" aria-label="Page progress"></div>
  </div>

  <ul role="navigation" class="nextprev-list nextprev-list" aria-label="Change page">
<li id="relations-prev" class="navLink" title='Previous Section - 1.2. Using Git' data-toggle="tooltip">
  <a href="git-using.html" aria-label="Previous - 1.2. Using Git">
    <i class='prevNav glyphicon glyphicon-chevron-left'  style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black;"></i>
  </a>
</li>

  <li id="relations-next" class="navLink" title='Next Section - 1.5. Introducing Gnu/Linux' data-toggle="tooltip" >
    <a href="linux.html" aria-label="Next - 1.5. Introducing Gnu/Linux">
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right' style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black; "></i>
    </a>
  </li>
</ul>

<script>
window.addEventListener('load', (event) => {
  $('#relations-prev').tooltip({'placement': 'right', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement': 'left', 'delay': { show: 100, hide: 50}});
});
</script>

</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017-2023 Dave Parillo.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 6.6.2.
    </p>
  </div>
</footer>




<script>
  window.addEventListener('load', (event) => {
    runestoneComponents.getSwitch();
  });
</script>


  </body>
</html>