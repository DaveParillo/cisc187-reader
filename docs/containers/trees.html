<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>12.3. Tree ADT concepts &#8212; CISC 187 Course Reader Overview</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=58BC228F" />
    <link rel="stylesheet" type="text/css" href="../_static/CodeChat.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/handsontable@7.2.2/dist/handsontable.full.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css?v=910DF1E1" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=DB047029" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-3.4.1/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/presenter_mode.css?v=9FF1320F" />
    <link rel="stylesheet" type="text/css" href="../_static/jquery-ui-1.10.3.custom.min.css?v=97E0178A" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/user-highlights.css?v=A2326E52" />
    <link rel="stylesheet" type="text/css" href="../_static/runestone-custom-sphinx-bootstrap.css?v=5.0.8" />
    <link rel="stylesheet" type="text/css" href="../_static/theme-overrides.css?v=2DAFE138" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/pytutor-embed.bundle.js?v=268B5C04"></script>
    <script src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script src="../_static/animationbase.js?v=A043C3A7"></script>
    <script src="../_static/html4css1.css?v=4D8F3FB4"></script>
    <script src="../_static/jquery.highlight.js?v=F1C496C8"></script>
    <script src="../_static/sql-wasm.js?v=44FE0709"></script>
    <script src="https://cdn.jsdelivr.net/npm/handsontable@7.2.2/dist/handsontable.full.js"></script>
    <script src="../_static/webglinteractive.js?v=2B768384"></script>
    <script src="../_static/FileSaver.min.js?v=8408C997"></script>
    <script src="../_static/Blob.js?v=AEC2447"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.emitter.bidi.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.emitter.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.fallbacks.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.messagestore.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.parser.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.language.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@4.0.0-rc.2/build/vega.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@2.5.0/build/vega-lite.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@3.14.0/build/vega-embed.js"></script>
    <script src="../_static/runestone.js?v=343ECCF5"></script>
    <script src="../_static/jquery-ui-1.10.3.custom.min.js?v=2B07FE4F"></script>
    <script src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
    <script src="../_static/jquery-fix.js?v=1226591B"></script>
    <script src="../_static/bootstrap-sphinx.js"></script>
    <script src="../_static/jquery.idle-timer.js?v=E942DAF1"></script>
    <script src="../_static/presenter_mode.js?v=2DF16FB4"></script>
    <script src="../_static/theme.js?v=D899FB97"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="12.4. The set class" href="set.html" />
    <link rel="prev" title="12.2. Sequence Containers" href="sequence-containers.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/cisc187-reader/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  
    eBookConfig.useRunestoneServices = false;
    eBookConfig.host = 'https://daveparillo.github.io/cisc187-reader/' || 'http://127.0.0.1:8000';
    eBookConfig.app = eBookConfig.host+'/cisc187-reader';
    eBookConfig.course = 'cisc187-reader';
    eBookConfig.basecourse = 'cisc187-reader';
    eBookConfig.isLoggedIn = false;
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.python3 = true;
  eBookConfig.acDefaultLanguage = 'cpp' ? 'cpp' : 'python'
  eBookConfig.runestone_version = '5.0.8';
  eBookConfig.jobehost = 'https://fierce-ridge-58946.herokuapp.com/http://jobe2.cosc.canterbury.ac.nz';
  eBookConfig.proxyuri_runs = '/jobe/index.php/restapi/runs/';
  eBookConfig.proxyuri_files = '/jobe/index.php/restapi/files/';
  eBookConfig.enable_chatcodes = false ? false : false;


</script>

<!-- Ad Serving Headers Only serve ads to Anonymous Users -->





  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar" aria-label="navbar toggle" class="visuallyhidden">toggle navbar</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
          <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;'>&nbsp;<span aria-label="logo" class="visuallyhidden">Runestone Logo</span> </a>
        
        <a class="navbar-brand" href="../index.html" aria-label="index-page">
          
          cisc187-reader
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>


        <!-- social media dropdown -->
        <!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span aria-label="Search" class="visuallyhidden">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:ACFactory.toggleScratchActivecode()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span aria-label="Scratch Activecode" class="visuallyhidden">Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
          <li class="divider-vertical"></li>
        
        <!-- 
          
  <li id="relations-prev" title="Previous Chapter - <span class="section-number">12.2. </span>Sequence Containers" data-toggle="tooltip">
    <a href="sequence-containers.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - <span class="section-number">12.4. </span>The set class' data-toggle="tooltip" >              
    <a href="set.html" >
        <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

      </div> <!-- navbar -->







    </div> <!-- container -->
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">
  
  <div class="section" id="tree-adt-concepts">
<span id="index-0"></span><h1><span class="section-number">12.3. </span>Tree ADT concepts<a class="headerlink" href="#tree-adt-concepts" title="Permalink to this headline">¶</a></h1>
<p>If sequence containers like <a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=vector">vector</a> are so great,
then why would we need anything else?</p>
<p>In a word: search.</p>
<p>When we have millions a elements in a data structure and need to find
just one element, or a specific range or elements,
we <em>could</em> use a <code class="docutils literal notranslate"><span class="pre">vector</span></code>.</p>
<p>Inserts are fast.
No matter how many elements are already in a <code class="docutils literal notranslate"><span class="pre">vector</span></code>
adding one more using <a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=vector::push_back">vector::push_back</a> takes
the same amount of time.
That is, the time cost of <code class="docutils literal notranslate"><span class="pre">push_back</span></code> is <em>constant</em> for a <code class="docutils literal notranslate"><span class="pre">vector</span></code>.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">vector</span></code> is default ordered only by its index position,
not by the values stored within it.
It’s easy to keep throwing items in without paying any attention
to how they are ordered.</p>
<p>But always using <code class="docutils literal notranslate"><span class="pre">push_back</span></code> is analogous to a messy closet.
We could consider the closet to be ordered by <em>depth</em>:
the last things thrown in the closet are on the top of the pile.</p>
<a class="reference internal image-reference" href="../_images/closet-messy.png"><img alt="An unsorted closet" class="align-center" src="../_images/closet-messy.png" style="width: 323.5px; height: 243.5px;" /></a>
<p>This makes getting a specific item from the closet slow.
If we only ever want to to access the last item we added,
then we know exactly where to go.
But if we want to find some arbitrary item,
we have to search the vector 1 element at a time until we find it.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">messy_closet</span> <span class="p">(</span><span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">);</span>  <span class="c1">// a fairly big vector</span>

<span class="c1">// modify closet . . .</span>

<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Go get some coffee while I work on this. . . </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="nl">v</span><span class="p">:</span> <span class="n">messy_closet</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">==</span> <span class="n">search_val</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">do_something</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Sometimes we may get lucky and find the desired element at index position 0.
If the data added to the vector is random,
then this becomes increasingly less likely as the size grows.</p>
<p>We might sometimes get very unlucky and not find the element until we access
the last element.
Over many searches, on average,
we will have to examine <span class="math notranslate nohighlight">\(N \over 2\)</span> elements.</p>
<p>It’s easy to see that the more elements are added,
the longer searches will take.</p>
<p>We need a tidy closet.</p>
<p>We could sort the <code class="docutils literal notranslate"><span class="pre">vector</span></code>, which would speed up our search.
The basic idea is to sort the vector,
then examine the value at position <span class="math notranslate nohighlight">\(N \over 2\)</span>.
If the value found is greater than the value we are looking for,
then examine the value at position <span class="math notranslate nohighlight">\(N \over 4\)</span>,
else examine the value at position <span class="math notranslate nohighlight">\(3N \over 4\)</span>.</p>
<p>At each step,
we eliminate the number of remaining elements we need
to search in our <code class="docutils literal notranslate"><span class="pre">vector</span></code> by half.
For a large <code class="docutils literal notranslate"><span class="pre">vector</span></code>, this saves a lot of time.</p>
<a class="reference internal image-reference" href="../_images/closet-neat.png"><img alt="A sorted closet" class="align-center" src="../_images/closet-neat.png" style="width: 332.0px; height: 372.5px;" /></a>
<p>This technique requires that we keep the vector sorted.
If elements are added or removed frequently,
then adding data to our vector, which used to be fast, is now slow.
We can either use <a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=vector::push_back">vector::push_back</a> followed by <a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=vector::sort">vector::sort</a>,
or use <a class="reference external" href="http://en.cppreference.com/mwiki/index.php?search=vector::insert">vector::insert</a>.
<em>Every</em> addition becomes a search and we are back to the original problem.
On average, it will take <span class="math notranslate nohighlight">\(N \over 2\)</span> comparisons to add new data.</p>
<p>How can we solve this problem?</p>
<p>Can we make an <a class="reference internal" href="../glossary.html#term-ADT"><span class="xref std std-term">ADT</span></a> whose performance does not degrade
as the number of elements in the <a class="reference internal" href="../glossary.html#term-ADT"><span class="xref std std-term">ADT</span></a> grows large?</p>
<p>Yes, but we need a new idea.
Instead of a sequential container, we need a <a class="reference internal" href="../glossary.html#term-tree"><span class="xref std std-term">tree</span></a>.</p>
<div class="section" id="the-tree-adt">
<h2><span class="section-number">12.3.1. </span>The tree ADT<a class="headerlink" href="#the-tree-adt" title="Permalink to this headline">¶</a></h2>
<p>A <a class="reference internal" href="../glossary.html#term-tree"><span class="xref std std-term">tree</span></a> is a <em>hierarchical</em> abstract data type.
Conceptually, it can be thought of as a collection of
<em>nodes</em> defined by parent-child relationships.</p>
<p>One node is the <a class="reference internal" href="../glossary.html#term-root"><span class="xref std std-term">root</span></a>.
It serves as the ‘trunk’ of the tree and serves the same
function as the <a class="reference internal" href="../glossary.html#term-head"><span class="xref std std-term">head</span></a> of a <a class="reference internal" href="../glossary.html#term-list"><span class="xref std std-term">list</span></a>
The root node is the <em>only</em> node in a tree without a parent.
All other nodes in a <a class="reference internal" href="../glossary.html#term-tree"><span class="xref std std-term">tree</span></a> refer to exactly 1 parent.
In a <a class="reference internal" href="../glossary.html#term-binary-tree"><span class="xref std std-term">binary tree</span></a>,
the children are commonly referred to as the <strong>left</strong> and <strong>right</strong> nodes.</p>
<div class="graphviz"><img src="../_images/graphviz-e975de5534aede1d4da65c07ebf7adaaf0be0867.png" alt="A simple binary tree" class="graphviz" /></div>
<p>Yes, programmers draw trees upside-down.
The <a class="reference internal" href="../glossary.html#term-root"><span class="xref std std-term">root</span></a> is above the branches.</p>
<p>The <a class="reference internal" href="../glossary.html#term-height"><span class="xref std std-term">height</span></a> of a tree is the count of the nodes along the longest path in a tree
from the <a class="reference internal" href="../glossary.html#term-root"><span class="xref std std-term">root</span></a> to a <a class="reference internal" href="../glossary.html#term-leaf-node"><span class="xref std std-term">leaf node</span></a>.</p>
<div class="graphviz"><img src="../_images/graphviz-d220cbe8f7c57d357e0eef7d912c93d4fd149e3b.png" alt="A tree of height 4" class="graphviz" /></div>
<p>Although there are many different types of trees,
we need only worry about <a class="reference internal" href="../glossary.html#term-binary-tree"><span class="xref std std-term">binary trees</span></a>.
A <a class="reference internal" href="../glossary.html#term-binary-tree"><span class="xref std std-term">binary tree</span></a> is a tree in which no node has more than 2 children.
Any tree node may have 0, 1, or 2 children.
A tree node with no children is a <a class="reference internal" href="../glossary.html#term-leaf-node"><span class="xref std std-term">leaf node</span></a>.</p>
<p>All of these are valid <a class="reference internal" href="../glossary.html#term-binary-tree"><span class="xref std std-term">binary trees</span></a>:</p>
<div class="graphviz"><img src="../_images/graphviz-43416d3c1468491a825f74aa1651ec335f210e49.png" alt="example binary trees" class="graphviz" /></div>
<p>A <a class="reference internal" href="../glossary.html#term-balanced-tree"><span class="xref std std-term">balanced tree</span></a>
(one with the roughly equal numbers of nodes
in each <a class="reference internal" href="../glossary.html#term-subtree"><span class="xref std std-term">subtree</span></a>),
provides the tidy room we need to ensure
reasonably fast inserts <strong>and</strong> retrievals.
A tree must be both balanced and sorted
for us to gain benefits from a tree.</p>
<p>When a tree is balanced and sorted,
the cost of both inserts and retrievals are on average <span class="math notranslate nohighlight">\(log_2{N}\)</span>.
Binary trees provide a way for us to ‘formalize’
our half-splitting solution.</p>
<p>Unbalanced trees are not much more than fancy
<a class="reference internal" href="../glossary.html#term-linked-list"><span class="xref std std-term">linked lists</span></a>.
The performance of unbalanced trees degrades
back to the messy room,
with all of the problems and none of the benefits.</p>
<p>Balanced trees are the data structures
that support both sets and maps.</p>
<hr class="docutils" />
<div class="admonition-more-to-explore admonition">
<p class="admonition-title">More to Explore</p>
<ul class="simple">
<li><p><a class="reference external" href="http://en.cppreference.com/w/cpp/container">STL containers library</a></p></li>
<li><p><a class="reference external" href="https://visualgo.net/en/heap?slide=1">Visualgo: binary heap</a></p></li>
</ul>
</div>
</div>
</div>


  <div id=scprogresscontainer>
    You have attempted <span id=scprogresstotal></span> of <span id=scprogressposs></span> activities on this page <div id="subchapterprogress"></div>
  </div>
  
      
<ul>
  <li id="relations-prev" style="opacity:0.4" onmouseover="mouseOverPrev()" onmouseout="mouseOutPrev()"class="navLink" title='Previous Section - 12.2. Sequence Containers' data-toggle="tooltip">
    <a href="sequence-containers.html" aria-label="12.2. Sequence Containers">
        <div style="background-color: white; border-style:solid; border-color:lightgrey; border-width:2px; width:100px; height:50px">
            <i class='prevNav glyphicon glyphicon-chevron-left'  style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black;"></i>
        </div>
    </a>
  </li>
</ul>

  
<ul>
  <li id="relations-next" style="opacity:0.4" onmouseover="mouseOverNext()" onmouseout="mouseOutNext()" class="navLink" title='Next Section - 12.4. The set class' data-toggle="tooltip" >
    <a href="set.html" aria-label="12.4. The set class">
      <div style="background-color: white; border-style:solid; border-color:lightgrey; border-width:2px; width:100px; height:50px">
          <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right' style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black; "></i>
      </div>
    </a>
  </li>
</ul>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});

</script>

<script>
	function mouseOverPrev() {
		document.getElementById("relations-prev").style.opacity=1;
	}

	function mouseOutPrev() {
		document.getElementById("relations-prev").style.opacity=0.4;
	}
	function mouseOverNext() {
		document.getElementById("relations-next").style.opacity=1;
	}

	function mouseOutNext() {
		document.getElementById("relations-next").style.opacity=0.4;
	}
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017-2020 Dave Parillo.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 5.0.8.
    </p>
  </div>
</footer>




<script> getSwitch(); </script>


  </body>
</html>