<!-- ****************************************
     |docname| - main template for this theme
     **************************************** -->
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>15.5. Analysis of separate chaining &#8212; CISC 187 Course Reader Overview</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=50109A2C" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=58BC228F" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/637.0fa6cababf056764.css?v=F9484CEF" />
    <link rel="stylesheet" type="text/css" href="../_static/runestone.3eb60bc006ae9a54.css?v=3A5A250C" />



    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/animationbase.js?v=A043C3A7"></script>
    <script src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script src="../_static/runtime.66b619f51b746382.bundle.js?v=C3F69EE5"></script>
    <script src="../_static/637.d54be67956c5c660.bundle.js?v=915B1670"></script>
    <script src="../_static/runestone.ecc6dff5cad8b815.bundle.js?v=AE959292"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="15.6. Closed hashing" href="closed_hashing.html" />
    <link rel="prev" title="15.4. Open hashing" href="open_hashing.html" />


<link rel="shortcut icon" href="/cisc187-reader/static/favicon.ico" type="image/ico" />



<link rel="canonical" href="https://{{canonical_host}}{{new_server_prefix}}/books/published/{{base_course}}/{{pagepath}}" />


<script>
  eBookConfig = {};
  
    eBookConfig.useRunestoneServices = false;
    eBookConfig.host = 'https://daveparillo.github.io/cisc187-reader/' || 'http://127.0.0.1:8000';
    eBookConfig.app = eBookConfig.host+'/cisc187-reader';
    eBookConfig.course = 'cisc187-reader';
    eBookConfig.basecourse = 'cisc187-reader';
    eBookConfig.isLoggedIn = false;
    eBookConfig.enableCompareMe = eBookConfig.useRunestoneServices;
    eBookConfig.new_server_prefix = '';
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.python3 = true;
  eBookConfig.acDefaultLanguage = 'cpp' ? 'cpp' : 'python'
  eBookConfig.runestone_version = '6.6.2';
  eBookConfig.jobehost = 'https://delicate-frost-8843.fly.dev';
  eBookConfig.proxyuri_runs = '/jobe/index.php/restapi/runs/';
  eBookConfig.proxyuri_files = '/jobe/index.php/restapi/files/';
  eBookConfig.enable_chatcodes = false ? false : false;
  eBookConfig.enableScratchAC = true;

</script>

<!-- Ad Serving Headers Only serve ads to Anonymous Users -->



  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse" aria-label="navbar toggle">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
        
          <div class="brand-logo"><img src="../_static/img/RAIcon.png" alt=""></div>
        
        <a class="navbar-brand" href="../index.html" aria-label="index-page">
          
          cisc187-reader
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>

        <!-- social media dropdown -->
        <!-- end social media dropdown -->

        <li class="divider-vertical"></li>
        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span class="visuallyhidden" aria-label="Search">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:runestoneComponents.popupScratchAC()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span class="visuallyhidden" aria-label="Scratch Activecode" >Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
          <li class="divider-vertical"></li>
        
        <!-- 
          
  <li id="relations-prev" title="Previous Chapter - <span class="section-number">15.4. </span>Open hashing" data-toggle="tooltip">
    <a href="open_hashing.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - <span class="section-number">15.6. </span>Closed hashing' data-toggle="tooltip" >              
    <a href="closed_hashing.html" >
        <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script>
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  window.addEventListener('load', (event) => {
    $('#relations-prev').tooltip(opts);
    $('#relations-next').tooltip(opts);
  });
</script>
        -->
        
          <li></li>
        
      </ul>
      </div> <!-- navbar-collapse -->
    </div> <!-- navbar -->
  </div> <!-- container -->


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">

<!-- Ad Serving for Runestone Campaign -->


  
  <section id="analysis-of-separate-chaining">
<span id="index-0"></span><h1><span class="section-number">15.5. </span>Analysis of separate chaining<a class="headerlink" href="#analysis-of-separate-chaining" title="Permalink to this heading">¶</a></h1>
<p>We define <span class="math notranslate nohighlight">\(\lambda\)</span>, the <a class="reference internal" href="../glossary.html#term-load-factor"><span class="xref std std-term">load factor</span></a> of a hash table,
as the number of items contained in the table divided by the table size.
Given a hash table with a separate bucket for each item to be stored
and a well-behaved hash function, then <span class="math notranslate nohighlight">\(\lambda = 1.0\)</span> and
the length of each list to also 1.</p>
<p>The effort required to perform a search is the constant time required to
evaluate the hash function plus the time to traverse the list.
In an unsuccessful search, the number of list nodes to examine is <span class="math notranslate nohighlight">\(\lambda\)</span>
on average.
A successful search requires that about <span class="math notranslate nohighlight">\(1 + (\lambda / 2)\)</span> links be traversed.</p>
<p>Why?
Note that the list that is being searched contains the one node that stores
the match plus zero or more other nodes
The expected number of “other nodes” in a table of <span class="math notranslate nohighlight">\(N\)</span> elements and
<span class="math notranslate nohighlight">\(M\)</span> lists is <span class="math notranslate nohighlight">\((N − 1)/M = \lambda - 1/M\)</span>,
which is essentially <span class="math notranslate nohighlight">\(\lambda\)</span>, since <span class="math notranslate nohighlight">\(M\)</span> is often large.
Recall our analysis of sequential data structures: on average,
half the list is searched, so combined with the matching node,
the average search cost is <span class="math notranslate nohighlight">\(1 + \lambda / 2\)</span> nodes.
This shows that the table size is not nearly as important as the load factor.
The general rule for separate chaining hashing is to make the table size about
as large as the number of elements expected.</p>
<p>The graph shows how the cost of finding a node increases as <span class="math notranslate nohighlight">\(\lambda\)</span> increases.</p>
<figure class="align-default">
<img alt="../_images/separate_chaining_analysis-1.png" class="plot-directive" src="../_images/separate_chaining_analysis-1.png" />
</figure>
<p>In separate chaining hash tables suffer gradually declining performance
as the load factor grows.
There is no fixed point beyond which resizing is absolutely needed.
Keep in mind that keeping the load factor &lt; 1 in separate chaining may
result in too many empty buckets.
If memory is at a premium, we can trade some performance for space in memory.</p>
<p>If you are concerned about performance,
then you should measure the load factor that maximizes performance on your system.
Typically it will be between 1 and 3.
One might think that <span class="math notranslate nohighlight">\(\lambda = 1\)</span> is the right place to rehash,
but the best performance is often seen
(for buckets implemented as linked lists)
when load factors are in the 1 - 2 range.</p>
<p>If the load factor exceeds our threshold, then we expand the table size by calling <code class="docutils literal notranslate"><span class="pre">rehash</span></code>.
This process should also ensure the new hash table storage size maintain
a prime number of elements to ensure good distribution among buckets.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For separate chaining, assuming a load factor of 1,
this is one version of the classic <strong>balls and bins problem</strong>:
Given <span class="math notranslate nohighlight">\(N\)</span> balls placed randomly (uniformly) in <span class="math notranslate nohighlight">\(N\)</span> bins,
what is the expected number of balls in the most occupied bin?</p>
<p>The answer is known to be <span class="math notranslate nohighlight">\(\theta \left ( \log{N}/\log {\log{N}} \right )\)</span>,
meaning that on average, we expect some queries to take nearly logarithmic time.
Similar types of bounds are observed (or provable) for the length of the
longest expected probe sequence in a probing hash table.
We would like to obtain <span class="math notranslate nohighlight">\(O(1)\)</span> worst-case cost.</p>
</div>
<p>Suppose we have inserted <span class="math notranslate nohighlight">\(sz\)</span> items into a table of size <span class="math notranslate nohighlight">\(N\)</span>.</p>
<p>We could use a tree for each bucket,
which would reduce the cost of searching buckets to <span class="math notranslate nohighlight">\(O(\log_{2}(sz))\)</span>
with an extra cost that <code class="docutils literal notranslate"><span class="pre">Key</span></code> types support a <code class="docutils literal notranslate"><span class="pre">operator&lt;</span></code> comparison
in addition to the <code class="docutils literal notranslate"><span class="pre">operator==</span></code> comparison required with list buckets.</p>
<p>In a list-based implementation, if <code class="docutils literal notranslate"><span class="pre">N</span></code> is much larger than <code class="docutils literal notranslate"><span class="pre">sz</span></code>,
and if our hash function uniformly distributes our keys,
then most lists will have 0 or 1 item,
and the average case is approximately <span class="math notranslate nohighlight">\(O(1)\)</span>.
But if <code class="docutils literal notranslate"><span class="pre">sz</span></code> is much larger than <code class="docutils literal notranslate"><span class="pre">N</span></code>,
we are looking at an <span class="math notranslate nohighlight">\(O(sz)\)</span>
linear search sped up by a constant factor (<code class="docutils literal notranslate"><span class="pre">N</span></code>), but still <span class="math notranslate nohighlight">\(O(sz)\)</span>.</p>
<p>Bottom line: hash tables let us trade space for speed.</p>
<hr class="docutils" />
<div class="admonition-more-to-explore admonition">
<p class="admonition-title">More to Explore</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Balls_into_bins_problem">Balls into bins problem</a> on Wikipedia.</p></li>
</ul>
</div>
</section>


  

  <div id="scprogresscontainer">
    You have attempted <span id="scprogresstotal"></span> of <span id="scprogressposs"></span> activities on this page <div id="subchapterprogress" aria-label="Page progress"></div>
  </div>

  <ul role="navigation" class="nextprev-list nextprev-list" aria-label="Change page">
<li id="relations-prev" class="navLink" title='Previous Section - 15.4. Open hashing' data-toggle="tooltip">
  <a href="open_hashing.html" aria-label="Previous - 15.4. Open hashing">
    <i class='prevNav glyphicon glyphicon-chevron-left'  style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black;"></i>
  </a>
</li>

  <li id="relations-next" class="navLink" title='Next Section - 15.6. Closed hashing' data-toggle="tooltip" >
    <a href="closed_hashing.html" aria-label="Next - 15.6. Closed hashing">
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right' style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black; "></i>
    </a>
  </li>
</ul>

<script>
window.addEventListener('load', (event) => {
  $('#relations-prev').tooltip({'placement': 'right', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement': 'left', 'delay': { show: 100, hide: 50}});
});
</script>

</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017-2025 Dave Parillo.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 6.6.2.
    </p>
  </div>
</footer>




<script>
  window.addEventListener('load', (event) => {
    runestoneComponents.getSwitch();
  });
</script>


  </body>
</html>