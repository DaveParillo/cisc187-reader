<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>5.1. Pointers &#8212; CISC 187 Course Reader Overview</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=58BC228F" />
    <link rel="stylesheet" type="text/css" href="../_static/CodeChat.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/handsontable@7.2.2/dist/handsontable.full.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css?v=910DF1E1" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=50109A2C" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-3.4.1/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/presenter_mode.css?v=9FF1320F" />
    <link rel="stylesheet" type="text/css" href="../_static/jquery-ui-1.10.3.custom.min.css?v=97E0178A" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/user-highlights.css?v=A2326E52" />
    <link rel="stylesheet" type="text/css" href="../_static/runestone-custom-sphinx-bootstrap.css?v=5.5.5" />
    <link rel="stylesheet" type="text/css" href="../_static/theme-overrides.css?v=2DAFE138" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/pytutor-embed.bundle.js?v=268B5C04"></script>
    <script src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script src="../_static/animationbase.js?v=A043C3A7"></script>
    <script src="../_static/html4css1.css?v=4533ACD3"></script>
    <script src="../_static/jquery.highlight.js?v=F1C496C8"></script>
    <script src="../_static/sql-wasm.js?v=D71B5933"></script>
    <script src="https://cdn.jsdelivr.net/npm/handsontable@7.2.2/dist/handsontable.full.js"></script>
    <script src="../_static/webglinteractive.js?v=2B768384"></script>
    <script src="../_static/FileSaver.min.js?v=8408C997"></script>
    <script src="../_static/Blob.js?v=AEC2447"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.emitter.bidi.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.emitter.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.fallbacks.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.messagestore.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.parser.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.language.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@4.0.0-rc.2/build/vega.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@2.5.0/build/vega-lite.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@3.14.0/build/vega-embed.js"></script>
    <script src="../_static/runestone.js?v=92D8BBF0"></script>
    <script src="../_static/jquery-ui-1.10.3.custom.min.js?v=2B07FE4F"></script>
    <script src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
    <script src="../_static/jquery-fix.js?v=1226591B"></script>
    <script src="../_static/bootstrap-sphinx.js"></script>
    <script src="../_static/jquery.idle-timer.js?v=E942DAF1"></script>
    <script src="../_static/presenter_mode.js?v=2DF16FB4"></script>
    <script src="../_static/theme.js?v=D899FB97"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5.2. Using pointers" href="pointers_using.html" />
    <link rel="prev" title="5. Pointers" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/cisc187-reader/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  
    eBookConfig.useRunestoneServices = false;
    eBookConfig.host = 'https://daveparillo.github.io/cisc187-reader/' || 'http://127.0.0.1:8000';
    eBookConfig.app = eBookConfig.host+'/cisc187-reader';
    eBookConfig.course = 'cisc187-reader';
    eBookConfig.basecourse = 'cisc187-reader';
    eBookConfig.isLoggedIn = false;
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.python3 = true;
  eBookConfig.acDefaultLanguage = 'cpp' ? 'cpp' : 'python'
  eBookConfig.runestone_version = '5.5.5';
  eBookConfig.jobehost = 'https://fierce-ridge-58946.herokuapp.com/http://jobe2.cosc.canterbury.ac.nz';
  eBookConfig.proxyuri_runs = '/jobe/index.php/restapi/runs/';
  eBookConfig.proxyuri_files = '/jobe/index.php/restapi/files/';
  eBookConfig.enable_chatcodes = false ? false : false;


</script>

<!-- Ad Serving Headers Only serve ads to Anonymous Users -->





  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar" aria-label="navbar toggle" class="visuallyhidden">toggle navbar</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
          <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;'>&nbsp;<span aria-label="logo" class="visuallyhidden">Runestone Logo</span> </a>
        
        <a class="navbar-brand" href="../index.html" aria-label="index-page">
          
          cisc187-reader
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>


        <!-- social media dropdown -->
        <!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span aria-label="Search" class="visuallyhidden">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:ACFactory.toggleScratchActivecode()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span aria-label="Scratch Activecode" class="visuallyhidden">Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
          <li class="divider-vertical"></li>
        
        <!-- 
          
  <li id="relations-prev" title="Previous Chapter - <span class="section-number">5. </span>Pointers" data-toggle="tooltip">
    <a href="index.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - <span class="section-number">5.2. </span>Using pointers' data-toggle="tooltip" >              
    <a href="pointers_using.html" >
        <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

      </div> <!-- navbar -->







    </div> <!-- container -->
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">
<!-- Ad Serving for Runestone Campaign -->


  
  <div class="section" id="pointers">
<span id="index-0"></span><h1><span class="section-number">5.1. </span>Pointers<a class="headerlink" href="#pointers" title="Permalink to this headline">¶</a></h1>
<p>People make a big deal out of pointers.
They really aren’t that hard to understand.
We already know that a variable stores some value:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">euler</span> <span class="o">=</span> <span class="mf">2.718281828459</span><span class="p">;</span>
</pre></div>
</div>
<p>We use the name <code class="docutils literal notranslate"><span class="pre">euler</span></code> to retrieve the value.</p>
<p>A pointer is simply a variable that stores an <em>address</em>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span><span class="o">*</span> <span class="n">e_pointer</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">euler</span><span class="p">;</span>
</pre></div>
</div>
<p>The value assigned to <code class="docutils literal notranslate"><span class="pre">e_pointer</span></code> is the <em>address of</em> the variable <code class="docutils literal notranslate"><span class="pre">euler</span></code>.</p>
<p id="index-1">While some of the memory in a running program is stored in
a small number of <strong>registers</strong>,
these live on the CPU chip and perform specialized functions like keeping track of the
location of the next machine code instruction to execute.
Most of the memory of interest to programmers is <strong>main memory</strong>,
which (mostly) lives outside the CPU chip and which stores the code and data of a running program.
Main memory is partitioned within a program into the following areas,
which we have seen in the section <a class="reference internal" href="../function-intro/functions.html"><span class="doc">Introduction to functions</span></a>.</p>
<div align="center" class="align-center"><div class="graphviz"><img src="../_images/graphviz-1f76f55a145dc069093e2a185c3a6d8b26a69bbc.png" alt="Typical program memory layout" class="graphviz" /></div>
</div>
<p>Each part of a program: functions, variables, and objects are stored in main memory and
each is assigned a unique address.
When the CPU wants to fetch a value from a particular location in main memory,
it must supply the address.
Frequently, we don’t need to concern ourselves with the address of a value.
Instead, we use a variable or function name and the
CPU resolves the address for us.
Sometimes we need more control, and then we use <strong>pointers</strong> to store memory addresses
and manipulate them like any other variable.
In C++,
they are defined as a family of types that can be passed as arguments,
stored in variables, returned from functions, etc.</p>
<div class="section" id="declaring-pointers">
<h2><span class="section-number">5.1.1. </span>Declaring pointers<a class="headerlink" href="#declaring-pointers" title="Permalink to this headline">¶</a></h2>
<p>A pointer is defined by the operator <code class="docutils literal notranslate"><span class="pre">*</span></code> <em>and</em> a <strong>type</strong>.
Both are required because a pointer can be thought of as a compound type.
The <code class="docutils literal notranslate"><span class="pre">*</span></code> declares that the system should store an initial memory address, not a value.
The type instructs the system how many bytes after the initial location
need to be allocated for storage of the value pointed to.
<code class="docutils literal notranslate"><span class="pre">int*</span> <span class="pre">int_pointer;</span></code> defines a new, uninitialized pointer to an <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p>
<p>Both
<code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">*</span> <span class="pre">int_pointer;</span></code> and <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">*int_pointer;</span></code>
declare the exact same variable.
White space does not matter and the last variation is common.
Personally, I prefer <code class="docutils literal notranslate"><span class="pre">int*</span> <span class="pre">p</span></code>,
because it emphasizes (for me) that the <em>type</em>
is <em>integer pointer</em>.
Declarations of pointers to other fundamental types follow a similar pattern:</p>
<p><code class="docutils literal notranslate"><span class="pre">double*</span> <span class="pre">dbl_pointer;</span></code> is an uninitialized pointer to a <code class="docutils literal notranslate"><span class="pre">double</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">char*</span> <span class="pre">char_ptr;</span></code> is an uninitialized pointer to a <code class="docutils literal notranslate"><span class="pre">char</span></code>.</p>
<p>Each of these declarations creates a variable of either 4 or 8 bytes, depending on the architecture.
On any given CPU all pointers are the same size, regardless of what they point to -
because the <strong>only</strong> thing a pointer ever stores is an address.
The pointer variable stores a specific memory location (the address) and the <em>value</em>
associated with the pointer is stored in one or more bytes starting at the pointer
address.</p>
<p>Like any other variable in C++,
an uninitialized pointer will initially contain garbage — in this case,
the address of a location that might or might not contain something important.
To initialize a pointer,
you assign it the address of something that already exists.
If you already have an object, you can use the <strong>address of operator</strong> <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span> <span class="c1">// a stack int</span>
  <span class="kt">int</span><span class="o">*</span> <span class="n">p</span><span class="p">;</span>    <span class="c1">// a pointer to an int</span>
  <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">;</span>    <span class="c1">// p now points to n</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As you might expect, you do not need to declare pointers uninitialized.
You can declare and initialize in a single step.
Once you have an initialized pointer, use the <strong>dereference operator</strong> <code class="docutils literal notranslate"><span class="pre">*</span></code>
to get the value stored in the pointer, or to assign a new value.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
   <span class="kt">int</span> <span class="n">x</span>  <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
   <span class="kt">int</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">;</span>    <span class="c1">// assign the address of x to p</span>
   <span class="o">*</span><span class="n">p</span>     <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>     <span class="c1">// x is now 7, p is unchanged</span>

   <span class="kt">int</span> <span class="n">x2</span>  <span class="o">=</span> <span class="o">*</span><span class="n">p</span><span class="p">;</span>   <span class="c1">// assign the value of x to new int x2</span>
   <span class="kt">int</span><span class="o">*</span> <span class="n">p2</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">x2</span><span class="p">;</span>  <span class="c1">// get a pointer to another int</span>

   <span class="n">p2</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span>         <span class="c1">// p2 and p both point to x</span>
   <span class="n">p</span>  <span class="o">=</span> <span class="o">&amp;</span><span class="n">x2</span><span class="p">;</span>       <span class="c1">// make p point to another object</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The equivalent example for references is:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
   <span class="kt">int</span> <span class="n">y</span>  <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
   <span class="kt">int</span><span class="o">&amp;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>    <span class="c1">// the &amp; is in the type, not in the initializer</span>
   <span class="n">r</span>      <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>    <span class="c1">// assign to y through reference r</span>

   <span class="kt">int</span>  <span class="n">y2</span> <span class="o">=</span> <span class="n">r</span><span class="p">;</span>   <span class="c1">// read y through r (no * needed)</span>
   <span class="kt">int</span><span class="o">&amp;</span> <span class="n">r2</span> <span class="o">=</span> <span class="n">y2</span><span class="p">;</span>  <span class="c1">// get a reference to another int</span>

   <span class="n">r2</span>  <span class="o">=</span> <span class="n">r</span><span class="p">;</span>       <span class="c1">// the value of y is assigned to y2</span>
   <span class="c1">//r = &amp;y2;     // error: you can&#39;t change the value of a reference</span>
                  <span class="c1">//   (no assignment from int* to an int&amp;)</span>
<span class="p">}</span>
</pre></div>
</div>
<hr class="docutils" />
<div class="admonition-more-to-explore admonition">
<p class="admonition-title">More to Explore</p>
<ul class="simple">
<li><p><a class="reference external" href="http://www.mycodeschool.com">MyCodeSchool</a> video:
<a class="reference external" href="https://www.youtube.com/playlist?list=PL2_aWCzGMAwLZp6LMUKI3cc7pgGsasm2_">Pointers in C/C++ playlist</a></p></li>
</ul>
</div>
</div>
</div>


  <div id=scprogresscontainer>
    You have attempted <span id=scprogresstotal></span> of <span id=scprogressposs></span> activities on this page <div id="subchapterprogress"></div>
  </div>
  
      
<ul>
  <li id="relations-prev" style="opacity:0.4" onmouseover="mouseOverPrev()" onmouseout="mouseOutPrev()"class="navLink" title='Previous Section - 5. Pointers' data-toggle="tooltip">
    <a href="index.html" aria-label="5. Pointers">
        <div style="background-color: white; border-style:solid; border-color:lightgrey; border-width:2px; width:100px; height:50px">
            <i class='prevNav glyphicon glyphicon-chevron-left'  style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black;"></i>
        </div>
    </a>
  </li>
</ul>

  
<ul>
  <li id="relations-next" style="opacity:0.4" onmouseover="mouseOverNext()" onmouseout="mouseOutNext()" class="navLink" title='Next Section - 5.2. Using pointers' data-toggle="tooltip" >
    <a href="pointers_using.html" aria-label="5.2. Using pointers">
      <div style="background-color: white; border-style:solid; border-color:lightgrey; border-width:2px; width:100px; height:50px">
          <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right' style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black; "></i>
      </div>
    </a>
  </li>
</ul>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});

</script>

<script>
	function mouseOverPrev() {
		document.getElementById("relations-prev").style.opacity=1;
	}

	function mouseOutPrev() {
		document.getElementById("relations-prev").style.opacity=0.4;
	}
	function mouseOverNext() {
		document.getElementById("relations-next").style.opacity=1;
	}

	function mouseOutNext() {
		document.getElementById("relations-next").style.opacity=0.4;
	}
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017-2021 Dave Parillo.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 5.5.5.
    </p>
  </div>
</footer>




<script> getSwitch(); </script>


  </body>
</html>