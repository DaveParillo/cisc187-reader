<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>2.3. The vector class &#8212; CISC 187 Course Reader Overview</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=58BC228F" />
    <link rel="stylesheet" type="text/css" href="../_static/CodeChat.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/handsontable@7.2.2/dist/handsontable.full.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css?v=910DF1E1" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=DB047029" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-3.4.1/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/presenter_mode.css?v=9FF1320F" />
    <link rel="stylesheet" type="text/css" href="../_static/jquery-ui-1.10.3.custom.min.css?v=97E0178A" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/user-highlights.css?v=A2326E52" />
    <link rel="stylesheet" type="text/css" href="../_static/runestone-custom-sphinx-bootstrap.css?v=5.0.8" />
    <link rel="stylesheet" type="text/css" href="../_static/theme-overrides.css?v=2DAFE138" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/pytutor-embed.bundle.js?v=268B5C04"></script>
    <script src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script src="../_static/animationbase.js?v=A043C3A7"></script>
    <script src="../_static/html4css1.css?v=4D8F3FB4"></script>
    <script src="../_static/jquery.highlight.js?v=F1C496C8"></script>
    <script src="../_static/sql-wasm.js?v=44FE0709"></script>
    <script src="https://cdn.jsdelivr.net/npm/handsontable@7.2.2/dist/handsontable.full.js"></script>
    <script src="../_static/webglinteractive.js?v=2B768384"></script>
    <script src="../_static/FileSaver.min.js?v=8408C997"></script>
    <script src="../_static/Blob.js?v=AEC2447"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.emitter.bidi.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.emitter.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.fallbacks.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.messagestore.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.parser.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.language.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@4.0.0-rc.2/build/vega.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@2.5.0/build/vega-lite.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@3.14.0/build/vega-embed.js"></script>
    <script src="../_static/runestone.js?v=343ECCF5"></script>
    <script src="../_static/jquery-ui-1.10.3.custom.min.js?v=2B07FE4F"></script>
    <script src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
    <script src="../_static/jquery-fix.js?v=1226591B"></script>
    <script src="../_static/bootstrap-sphinx.js"></script>
    <script src="../_static/jquery.idle-timer.js?v=E942DAF1"></script>
    <script src="../_static/presenter_mode.js?v=2DF16FB4"></script>
    <script src="../_static/theme.js?v=D899FB97"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. Introduction to functions" href="../function-intro/index.html" />
    <link rel="prev" title="2.2. The string class" href="string.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/cisc187-reader/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  
    eBookConfig.useRunestoneServices = false;
    eBookConfig.host = 'https://daveparillo.github.io/cisc187-reader/' || 'http://127.0.0.1:8000';
    eBookConfig.app = eBookConfig.host+'/cisc187-reader';
    eBookConfig.course = 'cisc187-reader';
    eBookConfig.basecourse = 'cisc187-reader';
    eBookConfig.isLoggedIn = false;
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.python3 = true;
  eBookConfig.acDefaultLanguage = 'cpp' ? 'cpp' : 'python'
  eBookConfig.runestone_version = '5.0.8';
  eBookConfig.jobehost = 'https://fierce-ridge-58946.herokuapp.com/http://jobe2.cosc.canterbury.ac.nz';
  eBookConfig.proxyuri_runs = '/jobe/index.php/restapi/runs/';
  eBookConfig.proxyuri_files = '/jobe/index.php/restapi/files/';
  eBookConfig.enable_chatcodes = false ? false : false;


</script>

<!-- Ad Serving Headers Only serve ads to Anonymous Users -->





  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar" aria-label="navbar toggle" class="visuallyhidden">toggle navbar</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
          <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;'>&nbsp;<span aria-label="logo" class="visuallyhidden">Runestone Logo</span> </a>
        
        <a class="navbar-brand" href="../index.html" aria-label="index-page">
          
          cisc187-reader
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>


        <!-- social media dropdown -->
        <!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span aria-label="Search" class="visuallyhidden">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:ACFactory.toggleScratchActivecode()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span aria-label="Scratch Activecode" class="visuallyhidden">Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
          <li class="divider-vertical"></li>
        
        <!-- 
          
  <li id="relations-prev" title="Previous Chapter - <span class="section-number">2.2. </span>The string class" data-toggle="tooltip">
    <a href="string.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - <span class="section-number">3. </span>Introduction to functions' data-toggle="tooltip" >              
    <a href="../function-intro/index.html" >
        <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

      </div> <!-- navbar -->







    </div> <!-- container -->
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">
  
  <div class="section" id="the-vector-class">
<span id="index-0"></span><h1><span class="section-number">2.3. </span>The vector class<a class="headerlink" href="#the-vector-class" title="Permalink to this headline">¶</a></h1>
<p>A <a class="reference external" href="https://en.cppreference.com/w/cpp/container/vector">vector</a> is intended to behave like a dynamically sized array.
It is a <a class="reference internal" href="../glossary.html#term-template"><span class="xref std std-term">template</span></a>, so unlike a string,
which is a container for characters only,
a vector can serve as a container for any type.
More on templates later, for now,
we just need to know enough to know how declare a vector.</p>
<p>As with strings, in standard C,
the typical way to work with a collection of data is with an array:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">a</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">};</span>
</pre></div>
</div>
<p>Some downsides to arrays are that they:</p>
<ul class="simple">
<li><p>Do not know their own size</p></li>
<li><p>Need to have their size specified when declared</p></li>
<li><p>Decay into pointers easily</p></li>
<li><p>Provide no convenience functions</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">vector</span></code> class solves these problems for us and a few others besides.
Declaring a <code class="docutils literal notranslate"><span class="pre">vector</span></code> is quite similar to the <code class="docutils literal notranslate"><span class="pre">string</span></code> declarations
from the previous section.
In order to access the STL vector capabilities,
use <code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&lt;vector&gt;</span></code>.</p>
<div id='tab_vector_declare' data-component="tabbedStuff"  class='alert alert-warning'><div data-component="tab" data-tabname="Declare" >
<p>To properly declare a vector,
the <em>type</em> of data stored in the vector
must be declared as a type parameter.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;int&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;std::string&gt;</span></code> represent the <em>template parameters</em>
passed to the <code class="docutils literal notranslate"><span class="pre">vector</span></code>.
It is these template parameters that allow the vector class to serve
as a container for (almost) any type.
There are some limits we will cover later,
but for now, know that any normal type you already have learned about
can be stored in a vector.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// an empty vector of int</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">x</span><span class="p">;</span>

<span class="c1">// initialize and store: &quot;x&quot;, &quot;x&quot;</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">dos_equis</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&quot;x&quot;</span><span class="p">);</span>

<span class="c1">// C++11 initialization list syntax</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">pi_digits</span> <span class="o">=</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">};</span>
</pre></div>
</div>
<p>Unlike a fundamental type,
the declaration <code class="docutils literal notranslate"><span class="pre">vector&lt;int&gt;</span> <span class="pre">x;</span></code> does <strong>not</strong> create
an uninitialized variable.
It creates a fully formed vector with no elements stored in it yet.
This is perfectly OK and normal.</p>
<p>However, a common error is to forget to include the template parameter:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">vector</span> <span class="n">x</span><span class="p">;</span>        <span class="c1">// compile error</span>
</pre></div>
</div>
</div><div data-component="tab" data-tabname="Run It" >

<div data-childcomponent="vector_declare_simple_ac" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=vector_declare_simple_ac data-lang="cpp" 
      data-timelimit=25000     
    data-audio=''      
    data-compileargs="[&#x27;-Wall&#x27;, &#x27;-Wextra&#x27;, &#x27;-std=c++11&#x27;]"       data-wasm=/_static>
#include <iostream>
#include <string>
#include <vector>

using std::vector;       // alias type std::vector

int main() {
  vector<int> x;                          // empty vector of int

  for (const auto& value: x)
  {
    std::cout << value << ',';
  }
  std::cout << '\n';

  vector<std::string> dos_equis (2, "x");  // "x", "x"

  vector<int> pi_digits = {3,1,4,1,5,9};  // C++11
  for (const auto& value: pi_digits)
  {
    std::cout << value << ',';
  }
  std::cout << '\n';

  return 0;
}
</textarea>
</div>
</div>
    </div>

<p id="index-1">Given a vector declared as:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
</pre></div>
</div>
<p>A container capable of storing 4 integers is created:</p>
<div class="graphviz"><img src="../_images/graphviz-50c06386defe9520292bde3c1029efc17d16900e.png" alt="digraph {
node [
     fontname = &quot;Courier&quot;
     fontsize = 14
     shape = &quot;record&quot;
     style=filled
     fillcolor=lightblue
  ]
  names [
     color = white;
     fillcolor=white;
     label = &quot;{size: | &lt;f0&gt; data: }&quot;;
  ]
  struct [
     label = &quot;{4 | &lt;f0&gt; }&quot;;
  ]
  node [shape=record, color=black, fontcolor=black, fillcolor=white, width=3.75, fixedsize=true];
  labels [label=&quot;&lt;f0&gt; | &lt;f4&gt; size&quot;, color=white];
  values [label=&quot;&lt;f0&gt; v[0] | &lt;f1&gt; v[1] | &lt;f2&gt; v[2] | &lt;f3&gt; v[3]&quot;,
          color=black, fillcolor=lightblue, style=filled];
  edge [color=black];
  struct:f0:s -&gt; values:f0;
  labels:f4 -&gt; values:f3;
  labels:f5 -&gt; values:f5;
  {rank=same; struct,labels};
}" class="graphviz" /></div>
<p>Although the <code class="docutils literal notranslate"><span class="pre">vector</span></code> object is initialized, its contents are not.
Many compilers will initialize the contents to zero, but don’t rely on this behavior.
Explicitly initialize with a default value, if that is what you want:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
<p id="index-2">A vector comes with a rich assortment of convenience functions.
Like an array, the <a class="reference external" href="https://en.cppreference.com/w/cpp/container/vector/operator_at">operator[]</a> can be used to access elements
without bounds checking.
Like a string, the <a class="reference external" href="https://en.cppreference.com/w/cpp/container/vector/operator_at">at</a> function provides bounds checking
and will throw a <a class="reference external" href="https://en.cppreference.com/w/cpp/error/out_of_range">std::out_of_range exception</a> if an out of bounds index is used on the <code class="docutils literal notranslate"><span class="pre">vector</span></code>.</p>
<div id='tab_vector_simple_ops' data-component="tabbedStuff"  class='alert alert-warning'><div data-component="tab" data-tabname="Access operations" >
<p>Like arrays, indexes are zero-based.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// read vector elements</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;First element: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">numbers</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;First element: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">numbers</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

<span class="c1">// write vector elements</span>
<span class="n">numbers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="n">numbers</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</pre></div>
</div>
<p>A common source of error occurs when printing
a vector.
A vector feels like a built-in type and
this seems like it should work:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// compile error</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;all numbers: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">numbers</span><span class="p">;</span>
</pre></div>
</div>
<p>The vector type does not ‘know’ how to send it’s
values to an output stream by default.</p>
<div class="admonition-something-to-consider admonition">
<p class="admonition-title">Something to consider</p>
<p>Why do you think this feature is not built into
the standard library?</p>
</div>
</div><div data-component="tab" data-tabname="Run It" >

<div data-childcomponent="vector_access_operator_ac1" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=vector_access_operator_ac1 data-lang="cpp" 
      data-timelimit=25000     
    data-audio=''      
    data-compileargs="[&#x27;-Wall&#x27;, &#x27;-Wextra&#x27;, &#x27;-std=c++11&#x27;]"       data-wasm=/_static>
#include <iostream>
#include <vector>

int main() {
  std::vector<int> numbers {2, 4, 6, 8};
  std::cout << "Size: " << numbers.size() << '\n';
  std::cout << "Second element: " << numbers[1] << '\n';

  numbers.at(0) = 5;
  numbers.at(4) = numbers[3] + 2;  // out of range error.
                                   // index 4 is out of bounds

  std::cout << "All numbers:";
  for (const auto& num : numbers) {
    std::cout << ' ' << num;
  }
  std::cout << '\n';
  return 0;
}
</textarea>
</div>
</div>
    </div>

<div class="admonition-something-to-consider admonition">
<p class="admonition-title">Something to consider</p>
<p>What is the difference between a <code class="docutils literal notranslate"><span class="pre">std::string</span></code> and
<code class="docutils literal notranslate"><span class="pre">std::vector&lt;char&gt;</span></code>?</p>
<p>Why did the developers of the STL decide it was important to include both?</p>
</div>
<p>Comparisons between vectors are also automatically handled by the class.
In the case of a vector,
<a class="reference external" href="https://en.cppreference.com/w/cpp/container/vector/operator_cmp">operator==</a>,
or an equality comparison between two vectors <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>,
means the two vectors are equal if <code class="docutils literal notranslate"><span class="pre">a.size()</span> <span class="pre">==</span> <span class="pre">b.size()</span></code>
and each element in <code class="docutils literal notranslate"><span class="pre">a</span></code> compares equal with each element in <code class="docutils literal notranslate"><span class="pre">b</span></code>
in the same position in the vector.</p>

<div data-childcomponent="string_operator_equal_assign_ac" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=string_operator_equal_assign_ac data-lang="cpp" 
      data-timelimit=25000     
    data-audio=''      
    data-compileargs="[&#x27;-Wall&#x27;, &#x27;-Wextra&#x27;, &#x27;-std=c++11&#x27;]"       data-wasm=/_static>
#include <vector>
#include <iostream>

int main() {
  std::vector<int> x {2, 4, 6, 8};
  std::vector<int> y;

  if (x == y) {
    std::cout << "x and y are equal\n";
  } else {
    std::cout << "x and y differ\n";
  }

  y = x;          // copy all data from x into y
  if (x == y) {
    std::cout << "x and y are equal\n";
  } else {
    std::cout << "x and y differ\n";
  }

  return 0;
}
</textarea>
</div>
<div class="admonition-try-this admonition">
<p class="admonition-title">Try This!</p>
<p>Create two vectors of strings containing
the same values and check them for equality.</p>
</div>
<div class="section" id="adding-data-to-a-vector">
<h2><span class="section-number">2.3.1. </span>Adding data to a vector<a class="headerlink" href="#adding-data-to-a-vector" title="Permalink to this headline">¶</a></h2>
<p>How do we solve the <a class="reference external" href="https://en.cppreference.com/w/cpp/error/out_of_range">out_of_range</a> exception from a few examples ago?
How do we dynamically add data to a <code class="docutils literal notranslate"><span class="pre">vector</span></code>?</p>
<p>A simple way is to use the <a class="reference external" href="https://en.cppreference.com/w/cpp/container/vector/push_back">push_back</a> function.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span> <span class="n">letters</span> <span class="p">{</span><span class="sc">&#39;a&#39;</span><span class="p">,</span> <span class="sc">&#39;b&#39;</span><span class="p">,</span> <span class="sc">&#39;c&#39;</span><span class="p">};</span>

  <span class="n">letters</span><span class="p">.</span><span class="n">at</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="sc">&#39;z&#39;</span><span class="p">;</span>
  <span class="n">letters</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="sc">&#39;d&#39;</span><span class="p">);</span>  <span class="c1">// add &#39;d&#39; to the end of the vector</span>
  <span class="kt">char</span> <span class="n">ch</span> <span class="o">=</span> <span class="sc">&#39;e&#39;</span><span class="p">;</span>
  <span class="n">letters</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">ch</span><span class="p">);</span>  <span class="c1">// add &#39;e&#39; to the end</span>
  <span class="n">letters</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>     <span class="c1">// pop_back is the opposite:</span>
                          <span class="c1">//  - removes the end element from the vector</span>

  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;All letters:&quot;</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="nl">c</span> <span class="p">:</span> <span class="n">letters</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39; &#39;</span> <span class="o">&lt;&lt;</span> <span class="n">c</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
  <span class="n">letters</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>         <span class="c1">// clear all contents from vector</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p id="index-3">A vector exposes an interface that ‘feels like’ an array,
but the underlying storage grows to accomodate new data
as required.
With an array, you either have to allocate as much memory
as you <em>might</em> need in the worst case,
even if only a small fraction is used most of the time
or you allocate ‘just enough’ and when more memory
is required, copy all the data into a new array.
A vector does do this also, but the implementation is
hidden and you don’t have to worry about it.</p>
<p>Something to be aware of -
when <code class="docutils literal notranslate"><span class="pre">pop_back</span></code> is called,
no actual storage is deleted.
The memory is still available in the vector
and available for reassignment with <code class="docutils literal notranslate"><span class="pre">pop_back</span></code>.</p>
<p>This extra memory after the current size is referred to
as the <em>total capacity</em> of the vector,
or just <em>capacity</em>.</p>
<div class="graphviz"><img src="../_images/graphviz-fa399ce196dd333223f15c5487173bfb9e15ed8f.png" alt="digraph {
node [
     fontname = &quot;Courier&quot;
     fontsize = 14
     shape = &quot;record&quot;
     style=filled
     fillcolor=lightblue
  ]
  names [
     color = white;
     fillcolor=white;
     label = &quot;{size: | &lt;f0&gt; data: }&quot;;
  ]
  struct [
     label = &quot;{4 | &lt;f0&gt; }&quot;;
  ]
  node [shape=record, color=black, fontcolor=black, fillcolor=white, width=3.75, fixedsize=true];
  labels [label=&quot;&lt;f0&gt; | &lt;f4&gt; size | &lt;f5&gt; spare\ncapacity &quot;, color=white];
  values [label=&quot;&lt;f0&gt; v[0] = 1 | &lt;f1&gt; v[1] = 1 | &lt;f2&gt; v[2] = 1 | &lt;f3&gt; v[3] = 1 | | &lt;f5&gt; &quot;,
          color=black, fillcolor=lightblue, style=filled];
  edge [color=black];
  struct:f0:s -&gt; values:f0;
  labels:f4 -&gt; values:f3;
  labels:f5 -&gt; values:f5;
  {rank=same; struct,labels};
}" class="graphviz" /></div>
<p>Managing the storage capacity in addition to the
vector data is one of the things that make vectors efficient.</p>
<hr class="docutils" />
<div class="admonition-more-to-explore admonition">
<p class="admonition-title">More to Explore</p>
<ul class="simple">
<li><p>cppreference.com <a class="reference external" href="http://en.cppreference.com/w/cpp/container/vector">std::vector</a></p></li>
<li><p>WikiBooks.org C++ Programming <a class="reference external" href="https://en.wikibooks.org/wiki/C%2B%2B_Programming/STL#Containers">STL Containers</a></p></li>
</ul>
</div>
</div>
</div>


  <div id=scprogresscontainer>
    You have attempted <span id=scprogresstotal></span> of <span id=scprogressposs></span> activities on this page <div id="subchapterprogress"></div>
  </div>
  
      
<ul>
  <li id="relations-prev" style="opacity:0.4" onmouseover="mouseOverPrev()" onmouseout="mouseOutPrev()"class="navLink" title='Previous Section - 2.2. The string class' data-toggle="tooltip">
    <a href="string.html" aria-label="2.2. The string class">
        <div style="background-color: white; border-style:solid; border-color:lightgrey; border-width:2px; width:100px; height:50px">
            <i class='prevNav glyphicon glyphicon-chevron-left'  style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black;"></i>
        </div>
    </a>
  </li>
</ul>

  
<ul>
  <li id="relations-next" style="opacity:0.4" onmouseover="mouseOverNext()" onmouseout="mouseOutNext()" class="navLink" title='Next Section - 3. Introduction to functions' data-toggle="tooltip" >
    <a href="../function-intro/index.html" aria-label="3. Introduction to functions">
      <div style="background-color: white; border-style:solid; border-color:lightgrey; border-width:2px; width:100px; height:50px">
          <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right' style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black; "></i>
      </div>
    </a>
  </li>
</ul>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});

</script>

<script>
	function mouseOverPrev() {
		document.getElementById("relations-prev").style.opacity=1;
	}

	function mouseOutPrev() {
		document.getElementById("relations-prev").style.opacity=0.4;
	}
	function mouseOverNext() {
		document.getElementById("relations-next").style.opacity=1;
	}

	function mouseOutNext() {
		document.getElementById("relations-next").style.opacity=0.4;
	}
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017-2020 Dave Parillo.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 5.0.8.
    </p>
  </div>
</footer>




<script> getSwitch(); </script>


  </body>
</html>